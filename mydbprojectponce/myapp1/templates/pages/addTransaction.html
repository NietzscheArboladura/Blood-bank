{% load static %} <!--- Built-in helper in Django to load static; short-hand syntax --->

<!-- Header Start-->
{% block headerinclude %}

<title>Add a Transaction</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins">
<link rel="stylesheet" type="text/css" href= "{% static 'css/styles.css' %}"/>		
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
		
<style>
  body,h1,h2,h3,h4,h5 {font-family: "Poppins", sans-serif}
  body {font-size:16px;}
  .w3-half img {margin-bottom:-6px;margin-top:16px;opacity:0.8;cursor:pointer}
  .w3-half img:hover {opacity:1}
</style>

{% endblock headerinclude %}
<!-- Header End -->

<!-- Content/Body Start -->
{% block content %} <!----------------------------------------------------------------->
<!-- !PAGE CONTENT! -->
<div class="w3-main">
  <!-- Add a Record -->
  
  
  <div class="w3-container" id="contact" style="margin-top:75px;">
    <form id = "form1" action="" method="POST" autocomplete="off" enctype="multipart/form-data">
      {% csrf_token %}
      <div class="container">
        <h1 class="w3-xxxlarge w3-text-red" style="font-weight: bold;"">Add a Transaction</h1>
        <a href="{% url 'myapp1:dashboard_view' %}" class="w3-button w3-block w3-padding-large w3-red w3-margin-bottom" style="float: right; font-size: 18px; font-weight: bold; margin-top: -50px; margin-left: 18px;width: 15.5%; border-radius: 8px;" onclick="w3_close()" >Go back</a>
    
        <hr style="width:50px;border:5px solid red" class="w3-round">
        <p>Please fill in this to add a transaction record.</p>

        <hr>       

        <div class = "row">

          <div class = "col-sm-3">
            <input type="number" class="form-control" id="amount" name = "amount" placeholder="Amount(mL)" required>
          </div>

          <div class = "col-sm-3">
            <input type="date" class="form-control" id="date_donated" name = "date_donated" required>
          </div>

          <div class = "col-sm-3" >
            <select class="form-control" id = "blood_type" type="text" name ="blood_type" required style="background-color: #f0f0f0; width: 150px; border-radius: 4px; border: none; height: 36px;">
              <option value = "" selected>Blood Type</option>
              <option value = "AB+">AB+</option>
              <option value = "AB-">AB-</option>
              <option value = "A+">A+</option>
              <option value = "A-">A-</option>
              <option value = "B+">B+</option>
              <option value = "B-">B-</option>
              <option value = "O+">O+</option>
              <option value = "O-">O-</option>
            </select>
          </div>

        </div>
        
        <br>

        <div class = "row">

          <div class = "col-sm-3">
            <select type ="number" class="form-control" id="donation_id" name ="donation_id" required style="background-color: #f0f0f0; border-radius: 4px; border: none; height: 36px;">              
                <option value = "" selected>Donation ID</option>
                {% for d in donations %}
                <option value="{{d.donation_id}}">{{d.donation_id}}</option>
                {% endfor %}
            </select>
          </div>

          <div class = "col-sm-3">
            <select type ="number" class="form-control" id="patient_id" name ="patient_id" required style="background-color: #f0f0f0; border-radius: 4px; border: none; height: 36px;">              
                <option value = "" selected>Patient ID</option>
                {% for p in patients %}
                <option value="{{p.patient_id}}">{{p.first_name}} {{p.last_name}} : {{p.patient_id}}</option>
                {% endfor %}
            </select>
          </div>

          <div class = "col-sm-3">
            <select type ="number" class="form-control" id="pbt_id" name ="pbt_id" required style="background-color: #f0f0f0; border-radius: 4px; border: none; height: 36px;">              
                <option value = "" selected>Phlebotomist ID</option>
                {% for p in pbt %}
                <option value="{{p.pbt_id}}">{{p.first_name}} {{p.last_name}} : {{p.pbt_id}}</option>
                {% endfor %}
            </select>
          </div>

        </div>

        <hr>
    
        <button type="submit" class="w3-button w3-block w3-padding-large w3-red w3-margin-bottom" style="font-size: 23px; font-weight: bold; letter-spacing: 5px; border-radius: 8px;">ADD Transaction</button>
      </div>
    </form>

  </div>

<!-- End page content -->
</div>


{% endblock content %} <!------------------------------------------------------------->
<!-- Content/Body End -->

<!-- Footer Start -->
{% block footerinclude %} <!---------------------------------------------------------->

<!-- W3.CSS Container -->
<div class="w3-light-grey w3-container w3-padding-32" style="margin-top: 75px; padding-right: 58px; position: fixed; right: 0; bottom: 0; width: 100%;"><p class="w3-right">Otsuki, McWayne CSIT327 G1-C1 A.Y. 2021-2022</p></div>

<script>
// Script to open and close sidebar
function w3_open() {
  document.getElementById("mySidebar").style.display = "block";
  document.getElementById("myOverlay").style.display = "block";
}
 
function w3_close() {
  document.getElementById("mySidebar").style.display = "none";
  document.getElementById("myOverlay").style.display = "none";
}

// Modal Image Gallery
function onClick(element) {
  document.getElementById("img01").src = element.src;
  document.getElementById("modal01").style.display = "block";
  var captionText = document.getElementById("caption");
  captionText.innerHTML = element.alt;
}
</script>

{% endblock footerinclude %} <!-------------------------------------------------------->
<!-- Footer End -->
